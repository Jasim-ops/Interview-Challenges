import prisma from '../db/database';

export const getAllTasks = async () => {
  return await prisma.task.findMany({ where: { isDeleted: false } });
};

export const getTaskById = async (id: string) => {
  return await prisma.task.findUnique({ where: { id } });
};

export const createTask = async (taskData: any) => {
  return await prisma.task.create({
    data: {
      ...taskData,
      syncStatus: 'pending',
    },
  });
};

export const updateTask = async (id: string, updates: any) => {
  return await prisma.task.update({
    where: { id },
    data: {
      ...updates,
      syncStatus: 'pending',
    },
  });
};

export const softDeleteTask = async (id: string) => {
  return await prisma.task.update({
    where: { id },
    data: {
      isDeleted: true,
      syncStatus: 'pending',
    },
  });
};
